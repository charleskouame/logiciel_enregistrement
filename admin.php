<!DOCTYPE html>
<html>
    <head>
        <title>logiciel immobiliere</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <link href='http://fonts.googleapis.com/css?family=Holtwood+One+SC' rel='stylesheet' type='text/css'>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
        <link rel="stylesheet" href="css/styles.css">
    </head> 
    <body>
        <div class="container">
            <h1 class="text-center ">GESTION PROPERTY</h1>
      
             <div class="sidebar">
                
                 <ul class="">
                     <li class="">
                       <a href=""> <i class="fas fa-clinic-medical "></i>
                      <div class="title"> brand name</div>
                      </a>
                     </li>
                     <li class="">
                       <a href=""> <i class="fas fa-th-large "></i>
                       <a href="admin/index.php"><div class="title">locataire ou client</div></a>
                      </a>
                     </li>
                     <li class="">
                       <a href=""> <i class="fas fa-th-large "></i>
                       <a href="admin/admin2.php"><div class="title">administrateur</div></a>
                      </a>
                     </li>

                     <li class="">
                       <a href=""> <i class="fas fa-th-large "></i>
                       <a href="admin/proprietaireint.php"><div class="title">Proprietaire</div></a>
                      </a>
                     </li>
                     <li class="">
                       <a href=""> <i class="fas fa-stethoscope "></i>
                      <div class="title">proprietaire</div>
                      </a>
                     </li>
                     <li class="">
                       <a href=""> <i class="fas fa-user-md "></i>
                      <div class="title"> client ou locataire </div>
                      </a>
                     </li>

                     <li class="">
                       <a href=""> <i class="fas fa-puzzle-piece "></i>
                      <div class="title"> depatements</div>
                      </a>
                     </li>
                     <li class="">
                       <a href=""> <i class="fas fa-hand-holding-usd"></i>
                      <div class="title">payements</div>
                      </a>
                     </li>

                     <li class="">
                       <a href=""> <i class="fas fa-cog "></i>
                      <div class="title">setting</div>
                      </a>
                     </li>

                     <li class="">
                       <a href=""> <i class="fas fa-question "></i>
                      <div class="title"> Help</div>
                      </a>
                     </li>


                 </ul>
             </div>
              <div class="main">
                 <div class="top-bar">
                      <div class="search">
                         <input type="text" name="search" placeholder="search here" >
                         <label for="search"> <i class="fas fa-search"></i> </label>
                      </div>
                       <i class=" fas fa-bell"></i>
                          <div class="user">
                             <img src="images/bgA.png" alt="">
                          </div>
                 </div>
                    <div class=" cards">
                        <div class="card">
                           <div class="card-content">
                              <div class="number"></div>
                              <div class="card-name">rendez-vous</div>
                           </div>
                               <div class=" icon-box">
                                 <i class=" fas fa-briefcase-medical"></i>
                               </div>
                        </div>

                        <div class="card">
                           <div class="card-content">
                              <div class="number"></div>
                              <div class="card-name">nouveau Client</div>
                           </div>
                               <div class="icon-box">
                                 <i class=" fas fa-wheelchair"></i>
                               </div>
                        </div>
                        <div class="card">
                           <div class="card-content">
                              <div class="number"> </div>
                              <div class="card-name">Op√©ration</div>
                           </div>
                               <div class=" icon-box">
                                 <i class=" fas fa-bed"></i>
                               </div>
                        </div>
                        
                        <div class="card">
                           <div class="card-content">
                                <div class="number"> </div>
                              <div class="card-name">earning</div>
                           </div>
                               <div class=" icon-box">
                                 <i class=" fas fa-dollar-sign"></i>
                               </div>
                        </div>

                    </div>

                     <div class="tables">
                        <div class="last-rendez-vous">
                           <div class="heading">
                               <h2>Details sur le client</h2>
                               <a href="#" class="btn">view all</a>
                           </div>

                            <table class="rendez-vous">
                              <thead>
                                <td>nom et prenom</td>
                                <td>fonction</td>
                                <td>contrat de bail</td>
                                <td>Action</td>
                              </thead>
                              <tbody>
                                 <tr>
                                   <td> DR.gold service </td>
                                   <td>  DG.gold service  </td>
                                   <td> Facture </td>
                                   <td> <i class="far fa-eye"></i> </td>
                                   <td> <i class="far fa-edit"></i> </td>
                                   <td> <i class="far fa-trash-alt"></i> </td>
                                 </tr>
                                 <tr>
                                   <td> DR.gold service </td>
                                   <td>  DG.gold service </td>
                                   <td> Facture </td>
                                   <td> <i class="far fa-eye"></i> </td>
                                   <td> <i class="far fa-edit"></i> </td>
                                   <td> <i class="far fa-trash-alt"></i> </td>
                                 </tr>
                                 <tr>
                                   <td> DR.gold service</td>
                                   <td>  DG.gold service  </td>
                                   <td> Facture </td>
                                   <td> <i class="far fa-eye"></i> </td>
                                   <td> <i class="far fa-edit"></i> </td>
                                   <td> <i class="far fa-trash-alt"></i> </td>
                                 </tr>
                                 <tr>
                                   <td> DR.gold service </td>
                                   <td>  DG.gold service  </td>
                                   <td> Facture </td>
                                   <td> <i class="far fa-eye"></i> </td>
                                   <td> <i class="far fa-edit"></i> </td>
                                   <td> <i class="far fa-trash-alt"></i> </td>
                                 </tr>
                                 <tr>
                                   <td> DR.gold service </td>
                                   <td>  DG.gold service  </td>
                                   <td> Facture </td>
                                   <td> <i class="far fa-eye"></i> </td>
                                   <td> <i class="far fa-edit"></i> </td>
                                   <td> <i class="far fa-trash-alt"></i> </td>
                                 </tr>
                                 

                              </tbody>
                            </table>


                        </div>
                          <div class="doctor-visiting">
                             <div class="heading">
                               <h2>Details sur le client</h2>
                               <a href="#" class="btn">view all</a>
                             </div> 

                             
                               <table class="visiting">
                                  <thead>
                                   <td>type de maison</td>
                                   <td>type de maison</td>
                                   <td>prix de la maison</td>
                                   <td>etat des lieux</td>
                                   <td>date d'entrer et de relance</td>
                                  </thead>
                                  <tbody>
                                     <tr>
                                        <td>
                                          <div class="img-box-small">
                                            <img src="images/bgA.png" alt="">
                                          </div>
                                        </td>
                                        <td> ACTUALISATION</td>
                                        <td> 14:00</td>
                                        <td> <i class=""></i>acd</td>
                                     </tr>

                                     <tr>
                                        <td>
                                          <div class="img-box-small">
                                            <img src="images/bgA.png" alt="">
                                          </div>
                                        </td>
                                        <td> ACTUALISATION</td>
                                        <td> 14:00</td>
                                        <td> <i class=""></i>acd</td>
                                     </tr>
                                     <tr>
                                        <td>
                                          <div class="img-box-small">
                                            <img src="images/bgA.png" alt="">
                                          </div>
                                        </td>
                                        <td> ACTUALISATION</td>
                                        <td> 14:00</td>
                                        <td> <i class=""></i>acd</td>
                                     </tr>
                                     <tr>
                                        <td>
                                          <div class="img-box-small">
                                            <img src="images/bgA.png" alt="">
                                          </div>
                                        </td>
                                        <td> ACTUALISATION</td>
                                        <td> 14:00</td>
                                        <td> <i class=""></i>acd</td>
                                     </tr>
                                  </tbody>
                               </table>

                          </div>
                     </div>
              </div>
        </div>


        <script language="text/javascript">

const searchInput = document.querySelector("#search")
const searchResult = document.querySelector(".table-results")


let dataArray;

async function getUsers(){

  const res = await fetch("https://randomuser.me/api/?nat=fr&results=50")

  const { results }  = await res.json()
  
  dataArray = orderList(results)
  createUserList(dataArray)
}

getUsers()

function orderList(data) {

  const orderedData = data.sort((a,b) => {
    if(a.name.last.toLowerCase() < b.name.last.toLowerCase()) {
      return -1;
    }
    if(a.name.last.toLowerCase() > b.name.last.toLowerCase()) {
      return 1;
    }
    return 0;
  })
  
  return orderedData;
}


function createUserList(usersList) {

  usersList.forEach(user => {

    const listItem = document.createElement("div");
    listItem.setAttribute("class", "table-item");

    listItem.innerHTML = `
    <div class="container-img">
    <img src=${user.picture.medium}>
    <p class="name">${user.name.last} ${user.name.first}</p>
    </div>
    <p class="email">${user.email}</p>
    <p class="phone">${user.phone}</p>
    `
    searchResult.appendChild(listItem);
  })

}

searchInput.addEventListener("input", filterData)

function filterData(e) {

  searchResult.innerHTML = ""

  const searchedString = e.target.value.toLowerCase().replace(/\s/g, "");

  const filteredArr = dataArray.filter(el => 
    el.name.first.toLowerCase().includes(searchedString) || 
    el.name.last.toLowerCase().includes(searchedString) ||
    `${el.name.last + el.name.first}`.toLowerCase().replace(/\s/g, "").includes(searchedString) ||
    `${el.name.first + el.name.last}`.toLowerCase().replace(/\s/g, "").includes(searchedString)
    )

  createUserList(filteredArr)
}

  </script>
    </body>

    </html>

